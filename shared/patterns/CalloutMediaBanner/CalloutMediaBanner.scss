// BDS CalloutMediaBanner Component Styles
// Brand Design System - Full-width banner with color variants and image support
//
// Naming Convention: BEM with 'bds' namespace
// .bds-callout-media-banner                - Base banner (responsive layout)
// .bds-callout-media-banner--default       - Default variant (white background)
// .bds-callout-media-banner--light-gray    - Light gray variant
// .bds-callout-media-banner--lilac         - Lilac variant
// .bds-callout-media-banner--green         - Green variant
// .bds-callout-media-banner--gray          - Gray variant
// .bds-callout-media-banner--image         - Background image variant (white text by default)
// .bds-callout-media-banner--image-text-black - Image variant with black text (fixed across light/dark)
// .bds-callout-media-banner--centered      - Centered content modifier (no buttons or no heading)
// .bds-callout-media-banner__content       - Content wrapper
// .bds-callout-media-banner__text          - Text content container
// .bds-callout-media-banner__heading       - Heading element
// .bds-callout-media-banner__subheading    - Subheading element
// .bds-callout-media-banner__actions       - Button container

// =============================================================================
// Design Tokens
// =============================================================================

// Color variants from Figma design
$bds-cmb-default-bg: $white;                    // #FFFFFF
$bds-cmb-light-gray-bg: $gray-200;              // #E6EAF0
$bds-cmb-lilac-bg: $lilac-300;                  // #C0A7FF
$bds-cmb-green-bg: $green-200;                  // #70EE97
$bds-cmb-gray-bg: $gray-300;                    // #CAD4DF

// Text colors
$bds-cmb-text-color: $black;                    // #141414

// Spacing tokens - responsive
// Mobile (<768px)
$bds-cmb-gap-mobile: 48px;
$bds-cmb-padding-mobile: 16px;

// Tablet (768px-1023px)
$bds-cmb-gap-tablet: 64px;
$bds-cmb-padding-tablet: 24px;

// Desktop (â‰¥1024px)
$bds-cmb-gap-desktop: 80px;
$bds-cmb-padding-desktop: 40px 32px;

// Button spacing
$bds-cmb-button-gap: 24px;

// Image overlay for readability
$bds-cmb-image-overlay: rgba(0, 0, 0, 0.3);

// =============================================================================
// Base Banner Styles
// =============================================================================

.bds-callout-media-banner {
  // Layout
  position: relative;
  display: flex;
  flex-direction: row; // Changed to row since this is a PageGridRow
  width: 100%;
  box-sizing: border-box;
  min-height: 280px;
  align-items: stretch; // Force children (PageGridCol) to stretch to full height
  
  // Ensure PageGridCol stretches to full height
  > [class*="bds-grid__col"] {
    display: flex; // Make column a flex container
    flex-direction: column; // Stack content vertically
  }
  
  // Background positioning for image variant
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  
  // Mobile-first padding and gap (default)
  padding: $bds-cmb-padding-mobile;
  
  // Tablet breakpoint
  @include media-breakpoint-up(md) {
    padding: $bds-cmb-padding-tablet;
  }
  
  // Desktop breakpoint
  @include media-breakpoint-up(lg) {
    padding: $bds-cmb-padding-desktop;
    min-height: 360px;
  }
}

// =============================================================================
// Content Container
// =============================================================================

.bds-callout-media-banner__content {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  
  // Default: space-between pushes text to top and buttons to bottom
  justify-content: space-between;
  
  // Mobile-first gap
  gap: $bds-cmb-gap-mobile;
  
  // Tablet breakpoint
  @include media-breakpoint-up(md) {
    gap: $bds-cmb-gap-tablet;
  }
  
  // Desktop breakpoint
  @include media-breakpoint-up(xl) {
    gap: $bds-cmb-gap-desktop;
  }
}

// When there are no action buttons OR no heading, vertically center the content
.bds-callout-media-banner--centered {
  .bds-callout-media-banner__content {
    justify-content: center;
  }
}

// =============================================================================
// Text Content
// =============================================================================

.bds-callout-media-banner__text {
  display: flex;
  flex-direction: column;
  color: $bds-cmb-text-color;
  
  // Mobile-first gap
  gap: 16px;
  
  // Tablet breakpoint
  @include media-breakpoint-up(md) {
    gap: 24px;
  }
  
  // Desktop breakpoint
  @include media-breakpoint-up(xl) {
    gap: 32px;
  }
}

.bds-callout-media-banner__heading {
  // Typography - Heading MD token (Tobias Light)
  @include type(heading-md);
  margin: 0;
  color: inherit !important;
}

.bds-callout-media-banner__subheading {
  // Typography - Subhead LG R token (Booton Regular)
  @include type(subhead-lg-r);
  margin: 0;
  color: inherit;
}

// =============================================================================
// Action Buttons
// ==================================================================== c=========

.bds-callout-media-banner__actions {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  flex-wrap: wrap;
  gap: 8px;
  // Tablet breakpoint
  @include media-breakpoint-up(md) {
    flex-direction: row;
    align-items: center;
    gap: 0px;
  }
}

// =============================================================================
// Color Variants (only applied when NO backgroundImage is provided)
// =============================================================================

// Default variant - white background
.bds-callout-media-banner--default {
  background-color: $bds-cmb-default-bg;
}

// Light Gray variant
.bds-callout-media-banner--light-gray {
  background-color: $bds-cmb-light-gray-bg;
}

// Lilac variant
.bds-callout-media-banner--lilac {
  background-color: $bds-cmb-lilac-bg;
}

// Green variant
.bds-callout-media-banner--green {
  background-color: $bds-cmb-green-bg;
}

// Gray variant
.bds-callout-media-banner--gray {
  background-color: $bds-cmb-gray-bg;
}

// =============================================================================
// Image Variant
// =============================================================================
// When backgroundImage is provided, add an overlay for text readability

.bds-callout-media-banner--image {
  // No background-color (image takes precedence)
  background-color: transparent;
  
  // Add overlay gradient for text readability (default: dark overlay for white text)
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      135deg,
      rgba(0, 0, 0, 0.4) 0%,
      rgba(0, 0, 0, 0.2) 50%,
      rgba(0, 0, 0, 0.1) 100%
    );
    z-index: 0;
    pointer-events: none;
  }
}

// Image variant with black text modifier
// Fixed black text across both light and dark modes
.bds-callout-media-banner--image-text-black {
  // Light overlay for black text readability
  &::before {
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.4) 0%,
      rgba(255, 255, 255, 0.2) 50%,
      rgba(255, 255, 255, 0.1) 100%
    );
  }
  
  // Force black text in both light and dark modes
  .bds-callout-media-banner__text {
    color: $black !important;
  }
}

// =============================================================================
// Dark Mode Styles
// =============================================================================

html.dark {
  // Default variant - dark background
  .bds-callout-media-banner--default {
    background-color: $gray-800;
    
    .bds-callout-media-banner__text {
      color: $white;
    }
  }
  
  // Light Gray variant - darker gray in dark mode
  .bds-callout-media-banner--light-gray {
    background-color: $gray-700;
    
    .bds-callout-media-banner__text {
      color: $white;
    }
  }
  
  // Lilac variant - slightly darker in dark mode
  .bds-callout-media-banner--lilac {
    background-color: $lilac-400;
    
    .bds-callout-media-banner__text {
      color: $white;
    }
  }
  
  // Green variant - same green, adjust text if needed
  .bds-callout-media-banner--green {
    background-color: $green-300;
    
    .bds-callout-media-banner__text {
      color: $black;
    }
  }
  
  // Gray variant - darker gray in dark mode
  .bds-callout-media-banner--gray {
    background-color: $gray-600;
    
    .bds-callout-media-banner__text {
      color: $white;
    }
  }
  
  // Image variant with white text remains white
  .bds-callout-media-banner--image {
    .bds-callout-media-banner__text {
      color: $white;
    }
  }
  
  // Image variant with black text remains black (fixed across modes)
  .bds-callout-media-banner--image-text-black {
    .bds-callout-media-banner__text {
      color: $black !important;
    }
  }
}

// =============================================================================
// Light Mode Explicit Styles (for specificity)
// =============================================================================

html.light {
  // Default variant
  .bds-callout-media-banner--default {
    background-color: $bds-cmb-default-bg;
    
    .bds-callout-media-banner__text {
      color: $bds-cmb-text-color;
    }
  }
  
  // Light Gray variant
  .bds-callout-media-banner--light-gray {
    background-color: $bds-cmb-light-gray-bg;
    
    .bds-callout-media-banner__text {
      color: $bds-cmb-text-color;
    }
  }
  
  // Lilac variant
  .bds-callout-media-banner--lilac {
    background-color: $bds-cmb-lilac-bg;
    
    .bds-callout-media-banner__text {
      color: $bds-cmb-text-color;
    }
  }
  
  // Green variant
  .bds-callout-media-banner--green {
    background-color: $bds-cmb-green-bg;
    
    .bds-callout-media-banner__text {
      color: $bds-cmb-text-color;
    }
  }
  
  // Gray variant
  .bds-callout-media-banner--gray {
    background-color: $bds-cmb-gray-bg;
    
    .bds-callout-media-banner__text {
      color: $bds-cmb-text-color;
    }
  }
  
  // Image variant with white text remains white
  .bds-callout-media-banner--image {
    .bds-callout-media-banner__text {
      color: $white;
    }
  }
  
  // Image variant with black text remains black (fixed across modes)
  .bds-callout-media-banner--image-text-black {
    .bds-callout-media-banner__text {
      color: $black !important;
    }
  }
}

