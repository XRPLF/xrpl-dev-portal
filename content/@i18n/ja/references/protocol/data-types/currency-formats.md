---
html: currency-formats.html
parent: basic-data-types.html
blurb: XRP Ledgerで利用可能な通貨の精度と範囲、カスタム通貨コードのフォーマットについて説明します。
labels:
  - XRP
  - トークン
---
# 通貨フォーマット

XRP Ledgerには2種類の通貨、XRPと[トークン](../../../concepts/tokens/index.md)があります。XRP Ledgerでは、これらの通貨のフォーマットは異なりますが、どちらも高精度です。

## 比較

以下の表は、XRP LedgerにおけるXRPとトークンの違いをまとめたものです。

| XRP                                                      | トークン |
|:---------------------------------------------------------|:------------------|
| 発行者は存在しません。                                       | XRP Ledgerのアカウントから発行されます。 |
| 文字列形式で指定します。                                     | オブジェクト形式で指定します。 |
| [アカウント](../ledger-data/ledger-entry-types/accountroot.md)に記録されます。               | [トラストライン](../ledger-data/ledger-entry-types/ripplestate.md)に記録されます。 |
| バーンするのみで作成することはできません。                      | 自由に発行・償還が可能です。 |
| 最小値: `0` (負の値はありません)                             | 最小値: `-9999999999999999e80` ゼロでない絶対値の最小値: `1000000000000000e-96`
| 最大値 `100000000000` (10<sup>11</sup>) XRP (`100000000000000000` (10<sup>17</sup>) "drops") | 最大値 `9999999999999999e80` |
| 最小の精度: "drop" (0.000001 XRP)                          | 小数点以下15桁の精度 |
| [凍結](../../../concepts/tokens/fungible-tokens/freezes.md)できません                            | 発行者は残高を[凍結](../../../concepts/tokens/fungible-tokens/freezes.md)することができます |
| 送金手数料はかかりません。XRP同士の支払いは常に直接行われます | 間接的な[パス](../../../concepts/tokens/fungible-tokens/paths.md)を取ることができ、各発行者は一定の[送金手数料](../../../concepts/tokens/transfer-fees.md)を請求できます |
| [ペイメントチャンネル](../../../concepts/payment-types/payment-channels.md)と[エスクロー](../../../concepts/payment-types/escrow.md)で使用できます | ペイメントチャネルやエスクローには対応していません |

詳しくは [XRPとは?](../../../introduction/what-is-xrp.md)や[トークン](../../../concepts/tokens/index.md)をご覧ください。

## 通貨額の指定

指定する通貨の適した形式を使用してください。

- [XRPの金額](#xrpの金額)
- [トークンの金額](#トークンの金額)

### XRPの金額

XRPの金額はdropの値(1XRP = 1,000,000drop)で[文字列フォーマット]で表します。これは0.000001（百万分の1）のXRPと等価です。したがって、JSONで13.1 XRPを表示するには、次のように書きます。

```
"13100000"
```

**XRPをオブジェクト形式で指定しないでください。**

XRPの金額は負になることはありません。

### トークンの金額

[(代替可能な)トークン](../../../concepts/tokens/index.md)の金額を指定するには、Amountオブジェクトを使用します。これは、3つのフィールドを持つJSONオブジェクトです。

| `Field`    | 型                    | 説明                        |
|:-----------|:---------------------|:-----------------------------------|
| `currency` | 文字列 - [通貨コード][] | トークンの任意の通貨コード。`XRP`は使用できません。 |
| `value`    | [文字列フォーマット][]  | トークンの金額を10進数で表します。1.23e11`は123,000,000,000を意味します。e` と `E` の両方を使用することができます。残高を表示する場合には負の値を指定することができますが、送信金額を指定する場合などには負の値を指定することはできません。 |
| `issuer`   | 文字列                | 一般的には、このトークンを発行する[アカウント](../../../concepts/accounts/accounts.md)を指します。特殊なケースでは、トークンを保持しているアカウントを指します(例えば、[Clawback](../transactions/types/clawback.md)トランザクションの場合など)。 |

[文字列フォーマット]: #文字列フォーマット

**注意:** これらのフィールド名は大文字小文字の区別があります。

例えば、アカウント`r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59`によって発行された$153.75 USドルは、以下のように指定します。

```json
{
    "currency": "USD",
    "value": "153.75",
    "issuer": "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59"
}
```

#### 金額なしでの通貨の指定

場合によっては、[分散型取引所](../../../concepts/tokens/decentralized-exchange/index.md)でオーダーブックを指定するときなど、特定の金額なしで資産(XRPやトークン)を定義する必要があります。

金額なしでトークンを記述するには、通貨オブジェクトとして指定し、`value`フィールドを省略します。例えば

```json
{
  "currency": "TST",
  "issuer": "rP9jPyP5kyvFRb6ZiRghAGw5u8SGAmU4bd"
}
```

XRPを金額なしで記述するには、JSONオブジェクトとして`currency`フィールドのみを指定してください。XRPの`issuer`フィールドは含めないでください。例えば

```json
{
  "currency": "XRP"
}
```


## 文字列フォーマット

{% partial file="/_snippets/string-number-formatting.md" /%}

## XRPの精度

XRPは64ビットの符号なし整数と同じ精度を持ち、各単位は0.000001 XRPに相当します。XRPは整数計算を使用するため、1dropに満たない金額は切り捨てられます。

## トークンの精度

トークンは、一般的に非常に小さい額や非常に大きい額で取引されるものを含め、さまざまな資産を表すことができます。このフォーマットは、科学的記数法と同様に、有効数字と10の累乗指数を使用します。このフォーマットは、指定された範囲内で有効数字の正負と指数をサポートしています。整数でない数の一般的な浮動小数点表現とは異なり、この形式ではすべての計算に整数演算を使用するため、常に小数点以下15桁の精度を維持します。掛け算と割り算には、最下位桁の丸めすぎを補正する調整があります。

XRP Ledgerのピアツーピアネットワークでトークンの金額を送信する場合、サーバは金額を64ビットのバイナリ値に[シリアライズ](../binary-format.md)します。

**ヒント：** 分割不可能なトークンについては、[非代替性トークン(NFT)](../../../concepts/tokens/nfts/index.md)をご覧ください。

## 通貨コード
[通貨コード]: #通貨コード

{% partial file="/_snippets/data_types/currency_code.md" /%}



### 標準通貨コード

通貨コードの標準フォーマットは`USD`のような3文字の文字列です。これは[ISO 4217 Currency Codes](https://www.xe.com/iso4217.php)で使用するためのものです。以下のルールがあります。

- 通貨コードの長さは正確に3文字のASCII文字でなければなりません。すべての大文字と小文字、桁数、および記号`?`、`!`、`@`、`#`、`$`、`%`、`^`、`&`、`*`、`<`、`>`、`(`、`)`、`{`、`}`、`[`、`]`、および<code>|</code>の組み合わせが利用可能です。
- 通貨コードは大文字と小文字を区別します。
- 通貨コード`XRP`（すべて大文字）は使用できません。ネイティブトークンとしてのXRPは通常、XRP Ledgerプロトコルでは通貨コードを使用しません。

プロトコルレベルでは、このフォーマットは[シリアライズ](../binary-format.md#通貨コード)され、`0x00`で始まる160ビットのバイナリ値になります。

### 非標準通貨コード

また、`015841551A748AD2C1F76FF6ECB0CCD000000`のような160ビット(40文字)の16進文字列を通貨コードとして使用することもできます。これが「標準的な」通貨コードとして扱われるのを防ぐために、最初の8ビットは`0x00`にしてはいけません (MUST NOT)。

**廃止予定:** 一部の旧バージョンの[ripple-lib](https://github.com/XRPLF/xrpl.js)では通貨コードの種類として「有利子」または「マイナス利子」がサポートされていました。これらの通貨の先頭8ビットは`0x01`です。マイナス利子/有利子通貨はサポートされなくなりましたが、レジャーデータにこのような通貨が現れることがあります。詳しくは、[マイナス利子](../../../concepts/tokens/fungible-tokens/demurrage.md)をご覧ください。
